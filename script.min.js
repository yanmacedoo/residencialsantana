document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.getAttribute("href");if("#"===n)return;const o=document.querySelector(n);if(o){const e=document.querySelector(".header").offsetHeight,t=o.offsetTop-e-20;window.scrollTo({top:t,behavior:"smooth"})}})});const e=document.getElementById("header");window.addEventListener("scroll",()=>{window.scrollY>50?e.classList.add("scrolled"):e.classList.remove("scrolled")}),function(){const e=document.querySelectorAll(".slideshow-container");0!==e.length&&e.forEach(e=>{const t=e.querySelectorAll(".slideshow-image");if(0===t.length)return;let n=0,o=-1;t[n].classList.add("active"),setInterval(function(){o>=0&&t[o].classList.remove("previous"),t[n].classList.remove("active"),t[n].classList.add("previous"),o=n,n=(n+1)%t.length,t[n].classList.add("active")},3e3)})}();const t=document.getElementById("stickyBar"),n=document.getElementById("hero");if(t&&n){new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?t.classList.remove("visible"):t.classList.add("visible")})},{threshold:.1}).observe(n)}const o=document.querySelectorAll('img[loading="lazy"]:not(.slideshow-image)');if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.style.opacity="0",n.style.transition="opacity 0.5s ease",n.addEventListener("load",()=>{n.style.opacity="1"}),t.unobserve(n)}})});o.forEach(t=>e.observe(t))}(()=>{const e=document.querySelectorAll(".unidade-card, .amenidade-item, .faq-item"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("fade-in-up")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>t.observe(e))})();const c=(e,t,n)=>{"undefined"!=typeof gtag&&gtag("event",t,{event_category:e,event_label:n}),"undefined"!=typeof fbq&&fbq("track",t,{category:e,label:n})};document.querySelectorAll('a[href="#booking"]').forEach(e=>{e.addEventListener("click",()=>{c("Engagement","cta_click","Ver Disponibilidade")})}),document.querySelectorAll('a[href^="tel:"]').forEach(e=>{e.addEventListener("click",()=>{c("Contact","phone_click",e.getAttribute("href"))})}),document.querySelectorAll('a[href^="mailto:"]').forEach(e=>{e.addEventListener("click",()=>{c("Contact","email_click",e.getAttribute("href"))})}),"requestIdleCallback"in window&&requestIdleCallback(()=>{["assets/images/suites/image1.webp","assets/images/loft/image1.webp","assets/images/apt/image1.webp"].forEach(e=>{const t=document.createElement("link");t.rel="prefetch",t.href=e,document.head.appendChild(t)})});const s=document.getElementById("lightbox"),i=document.getElementById("lightboxImage"),r=document.getElementById("lightboxCaption"),l=document.getElementById("lightboxClose"),a=document.getElementById("lightboxPrev"),d=document.getElementById("lightboxNext"),m=document.querySelectorAll(".galeria-grid img");let u=0;function g(){s.classList.remove("active"),document.body.style.overflow=""}function h(){u=(u-1+m.length)%m.length;const e=m[u];i.src=e.src,r.textContent=e.alt}function f(){u=(u+1)%m.length;const e=m[u];i.src=e.src,r.textContent=e.alt}m.forEach((e,t)=>{e.addEventListener("click",()=>function(e){u=e;const t=m[u];i.src=t.src,r.textContent=t.alt,s.classList.add("active"),document.body.style.overflow="hidden"}(t))}),l.addEventListener("click",g),a.addEventListener("click",h),d.addEventListener("click",f),s.addEventListener("click",e=>{e.target===s&&g()}),document.addEventListener("keydown",e=>{s.classList.contains("active")&&("Escape"===e.key&&g(),"ArrowLeft"===e.key&&h(),"ArrowRight"===e.key&&f())}),console.log("ğŸ  Residencial Santana - Website carregado com sucesso!")});